document.addEventListener('DOMContentLoaded', () => {
    console.log('HLauncher site loaded');

    // Add scroll effect for navbar
    const navbar = document.querySelector('.navbar');
    // Check if navbar exists (might be different class on blog)
    // On blog/index we usually use .liquid-nav or container inside nav
    // This logic specifically targets the element with class .navbar if present

    if (navbar) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.style.background = 'rgba(8, 12, 20, 0.98)';
                navbar.style.boxShadow = '0 4px 20px rgba(0,0,0,0.6)';
            } else {
                navbar.style.background = 'linear-gradient(to bottom, rgba(8, 12, 20, 0.95), rgba(8, 12, 20, 0.8))';
                navbar.style.boxShadow = '0 4px 20px rgba(0,0,0,0.4)';
            }
        });
    }

    // Simple platform selector interaction on Download page (if exists)
    const platforms = document.querySelectorAll('.platform-card');
    if (platforms.length > 0) {
        platforms.forEach(p => {
            p.addEventListener('click', () => {
                platforms.forEach(other => other.classList.remove('active'));
                p.classList.add('active');
            });
        });
    }
    // Modal Logic
    const downloadBtn = document.querySelector('.btn-mega-download');
    // Only if we are on the download page and button exists
    if (downloadBtn) {
        downloadBtn.addEventListener('click', () => {
            openSupportModal();
        });
    }

    // Mobile Menu Toggle
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');

    if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        // Close menu when clicking a link (optional, for single-page feeling or anchor links)
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navLinks.classList.remove('active');
            });
        });
    }
});

function openSupportModal() {
    const modal = document.getElementById('support-modal');
    if (modal) {
        modal.classList.add('active');
    }
}

function closeSupportModal() {
    const modal = document.getElementById('support-modal');
    if (modal) {
        modal.classList.remove('active');
    }
}

// --- Internationalization (i18n) ---

const translations = {
    'ru': {
        'nav.home': 'Главная',
        'nav.blog': 'Блог',
        'nav.media': 'Медиа',
        'nav.community': 'Сообщество',
        'nav.download': 'Скачать',
        'hero.tagline': 'Приключения Ждут',
        'hero.sub': 'Самый продвинутый кастомный лаунчер для Hytale от MrVitalik.',
        'hero.cta': 'Скачать Сейчас',
        'hero.more': 'Узнать больше',
        'news.title': 'Последние Новости',
        'news.view_all': 'Смотреть все →',
        'app.footer.privacy': 'Политика конфиденциальности',
        'app.footer.terms': 'Условия использования',
        'app.footer.contacts': 'Контакты',
        'app.footer.disclaimer': 'Не связано с Hypixel Studios. Hytale является торговой маркой Hypixel Studios.',
        'download.title': 'Начни Своё Приключение',
        'download.subtitle': 'Загрузите HLauncher и погрузитесь в мир Hytale с лучшими модами и оптимизацией.',
        'download.version': 'Версия',
        'download.updated': 'Обновлено',
        'download.btn_win': 'Скачать для Windows',
        'download.btn_linux': 'Скачать для Linux',
        'specs.title': 'Системные Требования',
        'specs.min': 'Минимальные требования',
        'specs.rec': 'Рекомендуемые требования',
        'specs.rec_badge': 'Рекомендуем',
        // News items
        'news.1.title': 'Хотфиксы: Январь 2026',
        'news.1.excerpt': 'Исправления теней, улучшенная стабильность серверов, правки компаса и другие важные изменения.',
        'news.2.title': 'Hytale Patch Notes - Update 2',
        'news.2.excerpt': 'Новая кастомизация, WorldGen V2, улучшения фермерства и вечные посевы.',
        'news.3.title': 'Hytale Patch Notes - Update 1',
        'news.3.excerpt': 'Первое обновление: Динозавры, изменения в крафте и новые визуальные эффекты.',
        'news.read_more': 'Читать статью',
        // Modal
        'modal.title': 'Понравился Лаунчер?',
        'modal.text': 'HLauncher — бесплатный проект с открытым кодом. Если вам нравится, поддержите разработку!',
        'modal.support': 'Поддержать на Ko-Fi',
        'modal.skip': 'Спасибо, я просто скачаю',
        'modal.download_title': 'Спасибо за загрузку!',
        'modal.download_text': 'HLauncher существует благодаря поддержке сообщества. <br>Если вам нравится наш проект, пожалуйста, рассмотрите возможность поддержать нас на <b>Ko-Fi</b>, чтобы мы могли оплачивать сервера и продолжать развитие.',
        'modal.btn_support': 'Поддержать проект',
        // Secondary Pages
        'app.back_home': 'На главную',
        'app.back_blog': '← Вернуться в блог',
        'community.title': 'Сообщество',
        'community.coming_soon': 'Скоро Открытие',
        'community.text': 'Мы готовим платформу для общения, форумы и списки серверов. Следите за новостями!',
        'community.badge.dev': 'В разработке',
        'community.hero.sub': 'Мы готовим единую платформу для общения игроков, форумы, списки серверов и систему гильдий. Следите за обновлениями в нашем блоге и Discord.',
        'community.btn.discord': 'Присоединиться к Discord',

        // Media Page specific
        'media.title': 'Медиа',
        'media.hero.title': 'Медиа Галерея',
        'media.dev_title': 'В разработке',
        'media.text': 'Этот раздел находится в стадии активной разработки. Скоро здесь появятся скриншоты, видео и обои.',
        'media.badge.soon': 'Скоро',
        'media.hero.sub': 'Мы отбираем лучшие скриншоты, концепт-арты и видеоматериалы от сообщества и разработчиков. Совсем скоро здесь появится полноценная галерея.',
        'media.btn.submit': 'Предложить контент',

        'blog.header.title': 'Блог Разработки',
        'blog.header.sub': 'Следите за последними обновлениями, патчноутами и новостями от команды HLauncher.',
        'blog.sidebar.cat': 'Категории',
        'blog.cat.announcements': 'Анонсы',
        'blog.cat.patchnotes': 'Патчноуты',
        'blog.cat.community': 'Сообщество',
        'blog.cat.dev': 'Разработка',
        'blog.sidebar.archive': 'Архив',
        'date.jan26': 'Январь 2026',
        'date.dec25': 'Декабрь 2025',
        'date.nov25': 'Ноябрь 2025',
        'date.feb17': '17 Февраля 2026',
        'date.feb11': '11 Февраля 2026',
        'date.jan28': '28 Января 2026',
        'date.jan24': '24 Января 2026',
        'date.jan17': '17 Января 2026',
        'date.jan15': '15 Января 2026',
        'date.jan13': '13 Января 2026',
        'news.read_more_long': 'Читать далее',
        // Tags
        'tag.hotfix': 'Хотфикс',
        'tag.dev': 'Разработка',
        'tag.update': 'Обновление',
        'tag.event': 'Событие',
        // Sidebar Pro
        'sidebar.pro.title': 'HLauncher Pro',
        'sidebar.pro.text': 'Поддержите разработку и получите уникальные функции.',
        'sidebar.pro.btn': 'Узнать больше',

        // Blog Excerpts (longer)
        'news.1.blog_excerpt': 'Мы исправили несколько критических проблем со стабильностью, о которых сообщало сообщество, касающихся интеграции шейдеров, а также значительно улучшили работу серверов при высоких нагрузках.',
        'news.2.blog_excerpt': 'Новая система косметики, кастомизация персонажа, WorldGen V2, масштабные изменения в механике фермерства и улучшенная стабильность мультиплеера. Узнайте все подробности второго крупного обновления!',
        'news.3.blog_excerpt': 'Добро пожаловать в первое обновление! Динозавры в подземных джунглях, новые окружающие звуки и полная перебалансировка системы инвентаря.',
        'news.4.blog_excerpt': 'Момент настал, сегодня Hytale официально выходит в Ранний Доступ! Узнайте, что вас ждет в первой версии игры и как начать свое приключение с HLauncher.',
        'news.4.title': 'Hytale наконец-то вышел!',
        // Categories / General
        'cat.perf': 'Производительность',
        'cat.stab': 'Стабильность',
        'cat.game': 'Геймплей',
        'cat.conn': 'Подключение',
        'cat.launch': 'Лаунчер',
        'cat.serv': 'Сервисы',
        'cat.world': 'Мир и Окружение',
        'cat.npc': 'NPC и Существа',
        'cat.craft': 'Крафт, Предметы и Фермерство',
        'cat.audio': 'Аудио и Визуал',
        'cat.ui': 'UI и Производительность',
        'cat.custom': 'Кастомизация',
        'cat.combat': 'Бой и Баланс',
        'cat.bugs': 'Исправления Багов',

        // Features Section
        'features.title': 'Почему HLauncher?',
        'features.speed.title': 'Максимальная Скорость',
        'features.speed.desc': 'Оптимизированный движок обеспечивает мгновенный запуск и плавную работу даже на слабых ПК. Забудьте о лагах и долгих загрузках.',
        'features.security.title': 'Безопасность',
        'features.security.desc': 'Встроенная защита аккаунта и проверка файлов.',
        'features.mods.title': 'Моды',
        'features.mods.desc': 'Удобный менеджер модов в один клик.',
        'features.premium.title': 'Premium Возможности',
        'features.premium.desc': 'Ранний доступ к обновлениям, HD скины, плащи и уникальные косметические предметы для вашего персонажа.',

        // Post 1
        'p1.title': 'Хотфиксы: Январь 2026',
        'p1.intro': 'Этот хотфикс решает наиболее критические проблемы, о которых сообщалось с момента запуска. Дополнительные исправления менее срочных проблем находятся в работе и будут включены в будущие патчи. Следите за обновлениями!',
        'p1.ul1': '<li>Исправлены проблемы с отображением теней.</li><li>Уменьшены подергивания и задержка ввода на видеокартах NVIDIA.</li>',
        'p1.ul2': '<li>Исправлено несколько вылетов, включая связанные с погодой, экипировкой брони и отключением от сервера.</li><li>Улучшена надежность входа и стабильность серверов.</li>',
        'p1.ul3': '<li>Исправлен компас, указывающий неверное направление.</li><li>Улучшена установка блоков в творческом режиме.</li><li>Улучшена логика телепортера для предотвращения бесконечной телепортации.</li><li>Исправлены осечки арбалета и другие взаимодействия.</li>',
        'p1.ul4': '<li>Общая стабильность серверов и улучшения сети.</li><li>Игра теперь переключается в оффлайн-режим при ошибке аутентификации вместо зависания.</li><li>Исправлены ошибки "invalid token", возникающие при рассинхронизации системного времени.</li>',
        'p1.ul5': '<li>Улучшена производительность клиента за счет оптимизации планирования фоновых задач.</li><li>Исправлена проблема, когда выброшенные предметы застревали внутри блоков.</li><li>Исправлен вылет сервера, который мог происходить в определенных ситуациях.</li>',
        'p1.ul6': '<li>Добавлено сообщение после загрузки сервера, если требуется аутентификация.</li><li>Клиент теперь переключается в оффлайн-режим, когда сессия становится недействительной.</li>',
        'p1.ul7': '<li>Исправлен вылет при выборе определенных причесок после выбора бровей в редакторе персонажа.</li><li>Исправлен вылет при создании скриншотов у пользователей с неанглоязычными именами папок.</li><li>Исправлена проблема, мешающая запуску игры на норвежских локалях.</li><li>Исправлен вылет при использовании вёдер. Внимание: это сломало некоторые верстаки, их нужно разрушить и поставить заново.</li><li>Предотвращена возможность привязки левой кнопки мыши к некоторым действиям.</li><li>Общие улучшения стабильности.</li>',
        'p1.ul8': '<li>Добавлено предупреждение, информирующее игроков, если время на их компьютере установлено неверно. Это исправляет некоторые проблемы с аутентификацией.</li><li>Исправлена проблема аутентификации, возникавшая периодически при входе.</li>',
        'p1.ul9': '<li>Исправлена уязвимость, позволявшая игрокам подделывать свои никнеймы (чисто визуально).</li><li>Улучшено кэширование патчей игры.</li><li>Улучшен сервис отправки электронной почты для обработки больших объемов писем.</li>',

        // Post 2
        'p2.custom_intro': 'Добавлены новые опции кастомизации аватара для всех:',
        'p2.ul1': '<li>Маска бандита + Боковой узел (Вариант)</li><li>Повязка на глаза + Толстая (Вариант)</li><li>Повязка-бинт + Толстая, Левый глаз, Правый глаз (Варианты)</li><li>Рот вампира, Милый рот, Рот орка</li><li>Добавлен белый цвет для косметических предметов из хлопка</li>',
        'p2.visual_intro': 'Обновлены визуальные эффекты для следующих причесок:',
        'p2.ul2': '<li>Одиночный боковой хвостик, Пучок с палочкой, Простой боб-каре, Боевые пучки, Умный эльф, Ветреная</li>',
        'p2.armor_toggle': 'Добавлены новые переключатели видимости слотов брони рядом с экипированной броней, доступные прямо в панели персонажа. Владельцы серверов могут отключать эту функцию.',
        'p2.ul3': '<li>Добавлен новый предмет, позволяющий призывать скелетов-миньонов из куч костей.</li><li>Адамантит теперь требует кирку из Тория или Кобальта для добычи.</li><li>Изменен прогресс добычи: кирки низкого уровня наносят гораздо меньше урона блокам высокого уровня.</li><li>Усилены Белые Медведи.</li><li>В мебельный верстак добавлено больше рецептов декоративного освещения.</li>',
        'p2.mobs_intro': 'Изменения мобов:',
        'p2.ul4': '<li>Бизон, Кабан, Корова, Лошадь и Бородавочник теперь дропают Среднюю шкуру вместо Легкой.</li><li>Магмовая Жаба: урон языка снижен, добавлена новая способность "Удар головой".</li>',
        'p2.world_intro': 'WorldGen V2 подготовлен для публичного документирования.',
        'p2.ul5': '<li>Добавлены шаблоны Default_Flat и Default_Void.</li><li>Значительный рефакторинг размещения руды во всех зонах (требуется исследовать новые чанки).</li><li>В Опустошенных землях (Devastated Lands) теперь больше руды под землей.</li>',
        'p2.ul6': '<li>Вечные посевы (Eternal crops) больше не ломаются от случайного урона оружием.</li><li>Увеличено время жизни вспаханной земли (1.2 - 1.5 дня).</li><li>В левой руке теперь можно держать факелы при использовании мотыги и семян.</li><li>Если сломать полностью выросшие Вечные посевы, семена выпадут обратно.</li><li>Медь теперь Тир 2, Железо - Тир 4, Торий добавлен на Тир 6 для мотыг.</li>',
        'p2.ul7': '<li>Улучшены подсказки в редакторе блоков.</li><li>Улучшена видимость активного слота хотбара (добавлен индикатор-ромб).</li><li>Категории Воспоминаний теперь сортируются по алфавиту.</li><li>Добавлен счетчик FPS в меню настроек (Общие > Интерфейс).</li><li>Имена игроков всегда отображаются на карте. Убран префикс "Player: ".</li>',
        'p2.inv_intro': 'Обновления инвентаря:',
        'p2.ul8': '<li>Улучшена обработка двойного клика.</li><li>Shift + Клик по броне теперь сразу экипирует её.</li><li>Добавлены горячие клавиши QERT для быстрых действий (сортировка, взять все и т.д.).</li>',
        'p2.ul9': '<li>Добавлены все недостающие звуки Рекса.</li><li>Обновлен звук перетаскивания костей.</li><li>Обновлены оттенки частиц еды.</li>',
        'p2.ul10': '<li>Внедрена система авто-обновления сервера с новыми командами и конфигурацией.</li><li>Исправлен "pick block" средней кнопкой мыши при полном инвентаре в креативе.</li><li>Исправлены проблемы с обнаружением паркура (Mantling).</li><li>Очищенные привязки клавиш теперь сохраняются между сессиями.</li><li>Вагонетки теперь корректно потребляются и устанавливаются.</li><li>Исправлен респаун на кровати в невыгруженных чанках.</li><li>Исправлено мерцание маркеров игроков на карте.</li>',

        // Post 3
        'p3.intro': 'Добро пожаловать в первое обновление Hytale! Сегодня мы выпускаем новый контент наряду с рядом исправлений и улучшений качества жизни.',
        'p3.ul1': '<li>Добавлены динозавры и другие NPC в подземные джунгли (пока с временным поведением).</li><li>Канализации Опустошенных земель (Devastated Lands) получили правильные атмосферные эффекты.</li><li>Области под вулканами теперь используют вулканические эффекты.</li><li>Исправлено размещение сущностей и текстур в деревнях Феранов.</li>',
        'p3.ul2': '<li>Добавлено сопротивление отбрасыванию для NPC, у которых его не было.</li><li>Огненные NPC теперь иммунны к урону от огня.</li><li>Улучшено боевое поведение Кристального Земляного Голема.</li><li>Скелеты больше не получают урон от утопления.</li><li>Квибеки иммунны к урону от кактусов и ежевики.</li><li>Осторожные хищники (например, Лис) не будут атаковать игроков первыми.</li>',
        'p3.ul3': '<li>Рюкзак теперь легче получить: Базовый требует верстак Тир 1 (ранее Тир 2) и 8 Средней кожи (ранее 16).</li><li>Верстаки могут брать ресурсы из сундуков в радиусе 14 блоков (ранее 7).</li><li>Все сырые фрукты и овощи дают только Регенерацию I. Готовка дает больше бонусов.</li><li>Выброшенные предметы больше не застревают в блоках.</li><li>Кукуруза теперь дает 1 Эссенцию Жизни вместо 4.</li><li>Бревна теперь отображают тип древесины в подсказке (например, "Твердая древесина").</li>',
        'p3.ul4': '<li>Новые звуки ударов по камню и руде.</li><li>Лошади теперь имеют правильные звуки бега.</li><li>Звук горения факела заменен на более мягкий эмбиент.</li><li>Добавлены частицы при поедании фруктов.</li><li>Обновлены визуальные эффекты зелий здоровья (блеск, свечение).</li>',
        'p3.ul5': '<li>Спать теперь можно с 19:30.</li><li>Добавлена панель информации о Системе Воспоминаний.</li><li>Скриншот и переключение интерфейса больше нельзя назначить на кнопки мыши.</li><li>Игра предупреждает при запуске пре-релизных версий.</li><li>Поле зрения (FOV) while sprinting is limited to 160°.</li>',
        'p3.ul6': '<li>Новые типы глаз: Кошачьи, Демонические, Козьи, Рептилии.</li><li>Новые рты и цвет волос (Лавандовый).</li><li>Капюшон Перорожденного (Featherbound Hood) теперь корректно отображается.</li>',
        'p3.ul7': '<li>Атаки оружием теперь проверяют линию видимости (LoS).</li><li>Эффект горения наносит меньше урона (кроме лавы).</li><li>Кактус и ежевика наносят тип урона "Окружение".</li>',
        'p3.ul8': '<li>Исправлен расход стамины при смене слота во время заряженной атаки.</li><li>Исправлен парсинг аргументов в команде /replace.</li><li>Исправлен вылет при создании скриншотов с не-английскими путями.</li><li>Исправлен вылет при обновлении модели игрока.</li><li>Улучшена обработка ошибок токена сессии.</li>',

        // Post 4
        'p4.intro1': '<strong>Hytale наконец-то здесь!</strong><br>Момент настал, сегодня Hytale выходит в Ранний Доступ!',
        'p4.intro2': 'Когда мы выкупили Hytale в прошлом ноябре и стали независимой студией, мы обещали запустить игру без задержек, и мы сдержали это слово. Игра сейчас находится в Раннем Доступе в своей истинной форме: неотполированная и неполная, но за этими шероховатостями лежит фундамент для чего-то экстраординарного. Впервые Hytale находится в руках сообщества, чтобы помочь нам превратить его в игру мечты, которую вы все заслуживаете.',
        'p4.intro3': 'Прежде чем вы начнете, пожалуйста, помните:',
        'p4.ul1': '<li><strong>Ранний Доступ</strong> — многие функции всё ещё отсутствуют, и ожидаются баги.</li><li>Прошло всего два месяца с тех пор, как мы вернули Hytale — это всё время, которое у нас было на подготовку игры и пересборку команды с нуля.</li><li>Спрос превысил наши ожидания, что означает, что неделя запуска будет непростой, но мы всех пустим.</li>',
        'p4.blockquote': 'Нет копии Hytale, но хотите присоединиться к Раннему Доступу?<br>Купите Starter Edition всего за $19.99 USD.',
        'p4.intro4': 'Если вам не комфортно играть в незавершенную версию Раннего Доступа, это нормально. Мы будем здесь, когда вы будете готовы!',
        'p4.h_how': 'Как мы к этому пришли?',
        'p4.text_how': 'За последние несколько месяцев Hytale прошел путь от застоя в разработке к отмене, затем к возрождению, и теперь... релиз в Раннем Доступе! Это случилось благодаря тому, что сообщество оставалось сильным и работало вместе, создав движение #savehytale, что в конечном итоге убедило оригинальных основателей вернуться.',
        'p4.h_what': 'Что есть в Раннем Доступе сегодня?',
        'p4.h_avail': 'Доступно:',
        'p4.ul_avail': '<li><strong>Режим Исследования (Exploration Mode):</strong> Бесконечный процедурно генерируемый мир. Исследуйте, стройте, выращивайте урожай и играйте с друзьями.</li><li><strong>Творческий Режим (Creative Mode):</strong> Инструменты внутри игры и отдельные утилиты для создания контента.</li><li><strong>Поддержка Модов:</strong> У Hytale обширные возможности для моддинга с первого дня.</li><li><strong>Мультиплеер:</strong> Для всех режимов.</li>',
        'p4.h_missing': 'Пока ОТСУТСТВУЕТ (но будет позже):',
        'p4.ul_missing': '<li><strong>Режим Приключения (Adventure Mode):</strong> Сюжет, глубокая прогрессия, данжи с боссами.</li><li><strong>Официальные Мини-игры:</strong> Социальные игры и соревновательные режимы.</li><li><strong>World Gen V2:</strong> Полный, восстановленный мир Orbis (пока доступен частично через порталы).</li><li><strong>Социальные функции:</strong> Списки друзей и гильдии.</li>',
        'p4.h_features': 'Ключевые особенности',
        'p4.h_gateway': 'The Ancient Gateway (Древний Портал)',
        'p4.text_gateway': 'Устройство, позволяющее отправляться в нестабильные временные миры, называемые Фрагментами Орбиса. Это позволяет взглянуть на возможности генерации World Gen 2.',
        'p4.h_memories': 'Система Воспоминаний (Memories)',
        'p4.text_memories': 'Награждает вас за исследование и взаимодействие с существами. Воспоминания нужно возвращать в Сердце Орбиса для разблокировки наград.',
        'p4.h_combat': 'Бой и Фермерство',
        'p4.text_combat': 'Веселый мобильный бой с разнообразным оружием и система фермерства с множеством культур.',
        'p4.h_thanks': 'Спасибо',
        'p4.text_thanks': 'Все мы в Hypixel Studios рады наконец выпустить Hytale для сообщества, которое пережило столько взлетов и падений. Ваш постоянный восторг сделал это возможным. Слов недостаточно, чтобы выразить нашу благодарность.',
        'p4.text_final': 'Большое спасибо от всей команды!',

        // Post 5
        'news.5.title': 'NPC Technical Rundown',
        'news.5.excerpt': 'Подробный разбор системы NPC, ролей, боевого оценщика и планов на будущее.',
        'news.5.blog_excerpt': 'Глубокое погружение в техническую часть NPC: роли, боевой ИИ, текущие проблемы и планы по улучшению.',
        'p5.intro1': 'Привет всем! Этот пост кратко осветит некоторые темы, касающиеся фреймворка NPC в Hytale, его текущего состояния, как он выглядит и куда мы хотим его развивать.',
        'p5.intro_tech': 'Некоторый контент может быть немного техническим, так что смело пропускайте или проглядывайте части, которые вам не интересны. Также, когда дело доходит до систем NPC, есть много всего, так что не ожидайте, что этот пост будет исчерпывающим!',

        'p5.h_where': 'Где мы сейчас',
        'p5.text_where': 'На данный момент фреймворк NPC поддерживает широкое разнообразие поведений через множество систем, все из которых настраиваются с помощью data-driven ассетов. Вам не нужно знать языки программирования, чтобы настроить их — даже наши самые сложные NPC почти полностью управляются данными.',
        'p5.text_systems': 'Мы достигаем этого с помощью ряда различных систем, связанных с поведением, но две, которые мы рассмотрим в этом посте, — это "Роли" (сердце наших NPC) и "Оценщик Боевых Действий" (Combat Action Evaluator).',

        'p5.h_docs': 'Документация и Туториал',
        'p5.text_docs': 'Если вы хотите узнать больше о NPC, у наших друзей из hytalemodding уже есть много отличной документации, и мы предоставили сгенерированный NPC док, а также письменный туториал.',
        'p5.text_video': 'Вместе с этим туториалом мы сделали серию видео из 6 частей, где рассматриваем некоторые части более детально; для лучшего опыта используйте и то, и другое:',
        'p5.link_tut1': 'NPC Tutorial Part 1',
        'p5.link_tut2': 'NPC Tutorial Part 2',
        'p5.link_tut3': 'NPC Tutorial Part 3',
        'p5.link_tut4': 'NPC Tutorial Part 4',
        'p5.link_tut5': 'NPC Tutorial Part 5',
        'p5.link_tut6': 'NPC Tutorial Part 6',

        'p5.h_roles': 'Роли (Roles)',
        'p5.text_roles1': 'У каждого NPC есть роль. Это выражение их общего поведения и того, как они будут реагировать на различные стимулы в мире. Изменение всего набора поведения NPC так же просто, как изменение его роли, и мы предоставляем ряд шаблонов с настраиваемыми значениями, которые можно применить для быстрого и эффективного создания новых NPC.',
        'p5.text_roles2': 'В дополнение к самому поведению, Роль также диктует такие аспекты, как движение NPC, какие предметы он носит, как он выглядит и так далее.',
        'p5.text_roles3': 'С технической стороны, это поведение представлено концепцией, которую мы называем "списками инструкций". Это не слишком далеко от деревьев решений или деревьев поведения, но с упрощенной семантикой. Каждая инструкция состоит из "сенсора" — элемента, который запрашивает состояние игры, чтобы решить, может ли эта инструкция быть выполнена — а также действий или движений, которые NPC должен предпринять, если эта инструкция выбрана.',
        'p5.text_roles4': 'Каждая инструкция оценивается по порядку и — если совпадает — выполняется. Если в инструкции не указаны специальные флаги, мы не будем оценивать дальнейшие инструкции в списке. Это гарантирует, что логика внутри NPC проста для отслеживания.',
        'p5.text_roles5': 'Пока все отдельные элементы (сенсоры, действия, движения) написаны на Java, списки инструкций полностью создаются в JSON. На данном этапе у нас более 150 типов элементов.',
        'p5.text_sheep_example': 'Вот пример изменения роли Овцы: от поведения домашнего скота (Template_Animal_Neutral) к агрессивному хищнику с помощью Template_Predator.',
        'p5.text_sheep_aggressive': 'И вот, она уже не милая, а нападает на вас.',
        'p5.text_sheep_weapon': 'С помощью пары базовых шаблонов можно выдать ей случайное оружие, и мод "Крепкий Орешек: Овца" готов.',

        'p5.h_combat_eval': 'Combat Action Evaluator',
        'p5.text_combat_eval1': 'Хотя списки инструкций дают гибкость, создание персонажа, который принимает сложные решения, может стать громоздким.',
        'p5.text_combat_eval2': 'Combat Action Evaluator решает эту задачу, предлагая фреймворк для принятия умных решений в реальном времени.',
        'p5.text_combat_eval3': 'Каждой атаке назначаются условия (мало HP, враг близко и т.д.), которые оцениваются для выбора лучшего действия.',
        'p5.text_combat_eval4': 'Например, Скелет-Преторианец может разумно выбирать между блоком, призывом и атакой.',
        'p5.text_combat_snippet': 'Ниже приведен фрагмент конфигурации условия призыва:',
        'p5.text_combat_video': 'А вот видео-пример того, как принимаются эти решения:',

        'p5.h_reality': 'Проверка реальностью',
        'p5.text_reality1': 'Это все звучит довольно продвинуто, верно? Может быть, вы даже поверили, что это готово к выпуску? Ну... нет. Есть еще очень много шероховатостей, отсутствующих функций и областей, требующих значительного улучшения.',
        'p5.text_reality2': 'С великой силой приходит... потребность в великих инструментах. Мы очень далеко от цели здесь. Есть планы по визуальному редактированию и отладке, но сейчас большая часть настройки NPC выполняется прямо в JSON файлах с помощью текстовых редакторов. Это работает, но это больно.',
        'p5.text_reality3': 'Мы упоминали кривую обучения, связанную с оценщиком боевых действий, но это применимо практически ко всему, что касается работы с NPC. Есть множество крупных отсутствующих функций: NPC не очень хорошо позиционируют себя в бою; они не используют правильное избегание или стайное поведение; плавающие NPC не могут выйти из воды и наоборот.',
        'p5.text_perform': 'Естественно, есть потенциал для проблем с производительностью. Мы можем поддерживать относительно большое количество NPC, но предстоит еще много работы, чтобы сделать их более производительными, особенно когда дело доходит до поиска пути.',
        'p5.text_debt': 'И еще есть весь технический долг, который нужно решить, от NPC, не способных намеренно ломать блоки, до физики NPC, нуждающейся в полной переработке для унификации с системами игрока.',

        'p5.h_bugs': 'Баги, баги повсюду',
        'p5.text_bugs1': 'Многие члены сообщества указали на множество багов, которые появились в выпущенных кадрах геймплея. С нашим текущим темпом разработки многие из этих кадров уже устарели, и самые критические из этих багов уже исправлены! Однако я хочу специально уделить время, чтобы поговорить немного больше о поиске пути.',
        'p5.text_pathfind': 'Поиск пути — большая и сложная тема. Когда вы добавляете процедурный, полностью изменяемый блочный мир, это становится еще сложнее. Сейчас наш поиск пути медленный. Мы не можем заранее заполнить мир "точками прыжка", потому что мир может измениться в любой момент.',

        'p5.h_next': 'Что дальше?',
        'p5.text_next1': 'Инструменты находятся высоко в нашем списке приоритетов. Если мы хотим поддерживать моддеров должным образом, нам нужно дать им инструменты, необходимые для того, чтобы создание NPC было веселым!',
        'p5.text_next2': 'Мы также должны решить проблемы с поиском пути и движением, разбираясь с техническим долгом, чтобы гарантировать, что мы не создаем узких мест производительности.',
        'p5.text_next3': 'Добавление большего количества шаблонов также поможет оживить мир. Все это ведет к потенциалу создания настоящих боссов — столкновений, которые доведут все наши PvE системы до абсолютных пределов.',

        'p5.h_debug': 'Фора: отладочные команды',
        'p5.text_debug1': 'Пока у нас нет визуального редактора или глубокой отладки, мы добавили ряд различных визуализаций, чтобы упростить понимание того, как будут функционировать ваши NPC.',
        'p5.text_debug2': 'Каждую из этих визуализаций можно включить, переключив определенные флаги отладки NPC:',
        'p5.code_aim': '/npc debug set VisAiming',
        'p5.text_aim': 'Визуализирует, куда на самом деле целятся NPC.',
        'p5.code_targets': '/npc debug set VisMarkedTargets',
        'p5.text_targets': 'Визуализирует цели.',
        'p5.code_sensors': '/npc debug set VisSensorRanges',
        'p5.text_sensors': 'Визуализирует сенсоры (кольца и сектора обзора).',
        'p5.text_bear_desc': 'На первом скриншоте медведь спит, активен только один сенсор. На втором — у него работают слух, зрение и абсолютный радиус обнаружения. Хотя овцы и попали в радиус (отмечены целями), они вне конуса зрения. Овечье семейство в безопасности!',
        'p5.code_leash': '/npc debug set VisLeashPosition',
        'p5.text_leash': 'Визуализирует точку привязи.',
        'p5.code_flock': '/npc debug set VisFlock',
        'p5.text_flock': 'Визуализирует стаю (лидера и участников).',

        // Post 6
        'news.6.title': 'Патч-ноут Hytale - Update 3',
        'news.6.excerpt': 'Приручение животных, метки на карте, локализация и множество исправлений.',
        'news.6.blog_excerpt': 'Третье обновление раннего доступа: приручение, косметика, изменения боевки и исправление багов.',
        'p6.intro': 'Третье обновление Hytale уже здесь, спустя четыре недели после выхода в ранний доступ! Наш ритм релизов в будущем: еженедельные предварительные патчи для тестирования, объединенные в стабильное обновление каждые 2-6 недель.',
        'p6.intro2': 'Помимо регулярных обновлений, мы создаем "Главы" — крупные контентные дропы, раскрывающие арку Разрушителя Проклятий (Cursebreaker) в режиме Приключения.',

        'p6.h_features': 'Главные нововведения',
        'p6.ul_features': '<li><b>Приручение животных:</b> Теперь можно приручать дружелюбных животных, если у вас есть их любимая еда. Прирученных можно гладить, кормить, иногда доить или стричь. Они не убегают и приветствуют игрока.</li><li><b>Метки на карте:</b> Создавайте свои метки с именами, иконками и цветами. Делитесь ими в мультиплеере.</li><li><b>Локализация:</b> Добавлены бразильский португальский и русский языки! Огромное спасибо сообществу переводчиков.</li><li><b>Пресеты аватара:</b> Редактируйте, сохраняйте и переключайтесь между 5 вариантами внешности.</li><li><b>Серпы:</b> Добавлены серпы для сбора урожая по площади.</li><li><b>Улучшение скалолазания:</b> Можно двигаться вбок, спрыгивать и вращаться на веревках.</li><li><b>Огонь и Огнемет гоблинов:</b> Новая система распространения огня и оружие "Огнемет гоблинов" (пока только в креативе).</li><li><b>Распространение травы:</b> Добавлено случайное распространение травы.</li><li><b>Anchor UI System:</b> Система для плагинов, позволяющая добавлять UI элементы на экраны клиента (например, карту).</li>',

        'p6.h_avatar': 'Аватар и Косметика',
        'p6.ul_avatar': '<li><b>Одежда:</b> Твидовая шляпа, Рубашка мага, различные туфли, кеды на платформе, строительная каска, шипастые браслеты, юбки (Плед и Панк). Новые цвета металлов.</li><li><b>Волосы и лицо:</b> 6 новых причесок, 4 вида усов/бороды, новые формы глаз и макияж.</li><li>Штаны (Overpants) переименованы в Legwear.</li>',

        'p6.h_combat': 'Бой и Предметы',
        'p6.ul_combat': '<li>Исправлен урон и улучшения оружия разных тиров.</li><li>Скорректирована стоимость выносливости для блока.</li><li>Копья теперь стакаются до 5 и их можно метать.</li><li>Улучшена баллистика и точность дальнего боя.</li><li>Луки и арбалеты могут брать стрелы прямо из рюкзака.</li><li><b>Некромантия:</b> Призванные существа не получают урон от призывателя, реагируют на атаки по игроку, стали быстрее и агрессивнее. Добавлен скелет-стрелок.</li><li>Улучшено поведение Жабы-Носорога и переключение целей у NPC.</li>',

        'p6.h_gameplay': 'Геймплей',
        'p6.ul_gameplay': '<li><b>Карта:</b> Обновлены иконки, имена игроков всегда видны, компас показывает высоту цели.</li><li><b>Инвентарь:</b> "Взять все" в верстаках, Shift-перенос предметов, улучшено колесо быстрого доступа.</li><li><b>Крафт:</b> Снижены требования к Курятнику и Верстаку фермера. Начальные инструменты крафтятся мгновенно. Тесто делается из наполняемых кружек.</li><li><b>Мир:</b> Двери не закрываются, если проход заблокирован. Телепорты требуют отойти перед повторным использованием. Вагонетки не двигаются, если застряли.</li>',

        'p6.h_blocks': 'Блоки и Мир',
        'p6.ul_blocks': '<li>Вернули Светящийся Вулканический Камень.</li><li>Новые текстуры трещин (Торий, Базальт, Магма, Грязь).</li><li>Варианты блоков лайма (Гравий, Камень, Сталактиты).</li><li>Обновлена текстура Кобальта.</li>',

        'p6.h_content': 'Контент и Встречи',
        'p6.ul_content': '<li>Сложные спавны в тайге (у рек).</li><li>Новые поселения Чужеземцев (Outlanders).</li><li>Переработаны встречи во всех зонах.</li><li>Зеленая вариация Жабы-Носорога.</li><li>Печь Тир-2 (новая модель и анимации).</li>',

        'p6.h_audio': 'Аудио',
        'p6.ul_audio': '<li>Обновлены звуки ударов мечом.</li><li>Разделение режимов наушников (Стерео и HRTF).</li><li>Увеличен лимит звуков открывания печей.</li>',

        'p6.h_ui': 'UI и QoL',
        'p6.ul_ui': '<li>Уведомления о сне других игроков.</li><li>Настройка размера окна.</li><li>Улучшены подсказки клавиш.</li><li>Сортировка варпов в телепорте по алфавиту.</li><li>Поддержка запасных шрифтов (включая Noto Sans для кириллицы).</li><li>Улучшены тултипы предметов для локализации.</li>',

        'p6.h_modding': 'Моддинг и Инструменты',
        'p6.ul_modding': '<li>Включение/отключение модов из UserData.</li><li>Проверка версий плагинов.</li><li>Новые ассет-паки включаются по умолчанию.</li><li>Команда /layer в Creative Tools.</li><li>Undo/Redo для Paste tool.</li><li>Визуализация 3D аудио и сенсоров NPC для дебага.</li>',

        'p6.h_perf': 'Производительность и Баги',
        'p6.ul_perf': '<li><b>Безопасность:</b> Исправлены уязвимости обхода директорий.</li><li><b>Производительность:</b> Улучшена генерация мира, оптимизированы ассеты клиента.</li><li><b>Краши:</b> Исправлены вылеты при отмене действий в креативе, сохранении скинов, запуске на Linux без Nautilus.</li><li><b>Мир:</b> Исправлено размещение блоков, невидимые биомы, парящие яблони, распространение огня выше 256 блока.</li><li><b>Геймплей:</b> Исправлены хитбоксы урожая, предметы без компонентов, ловля рыбы в лаве.</li><li><b>Аудио:</b> Исправлено панорамирование звуков воды и HRTF.</li>',
    },
    'en': {
        'nav.home': 'Home',
        'nav.blog': 'Blog',
        'nav.media': 'Media',
        'nav.community': 'Community',
        'nav.download': 'Download',
        'hero.tagline': 'Adventures Await',
        'hero.sub': 'The most advanced custom Hytale launcher by MrVitalik.',
        'hero.cta': 'Download Now',
        'hero.more': 'Learn More',
        'news.title': 'Latest News',
        'news.view_all': 'View All →',
        'app.footer.privacy': 'Privacy Policy',
        'app.footer.terms': 'Terms of Service',
        'app.footer.contacts': 'Contact',
        'app.footer.disclaimer': 'Not affiliated with Hypixel Studios. Hytale is a trademark of Hypixel Studios.',
        'download.title': 'Begin Your Adventure',
        'download.subtitle': 'Download HLauncher and immerse yourself in the world of Hytale with best mods and optimization.',
        'download.version': 'Version',
        'download.updated': 'Updated',
        'download.btn_win': 'Download for Windows',
        'download.btn_linux': 'Download for Linux',
        'specs.title': 'System Requirements',
        'specs.min': 'Minimum Requirements',
        'specs.rec': 'Recommended Requirements',
        'specs.rec_badge': 'Recommended',
        'news.1.title': 'Hotfixes: January 2026',
        'news.1.excerpt': 'Shadow fixes, improved server stability, compass adjustments, and other important changes.',
        'news.2.title': 'Hytale Patch Notes - Update 2',
        'news.2.excerpt': 'New customization, WorldGen V2, farming improvements, and eternal crops.',
        'news.3.title': 'Hytale Patch Notes - Update 1',
        'news.3.excerpt': 'First update: Dinosaurs, crafting changes, and new visual effects.',
        'news.read_more': 'Read Article',
        // Modal
        'modal.title': 'Enjoying the Launcher?',
        'modal.text': 'HLauncher is a free open-source project. If you like it, please consider supporting development!',
        'modal.support': 'Support on Ko-Fi',
        'modal.skip': 'Thanks, just downloading',
        'modal.download_title': 'Thank you for downloading!',
        'modal.download_text': 'HLauncher exists thanks to community support. <br>If you like our project, please consider supporting us on <b>Ko-Fi</b> so we can pay for servers and continue development.',
        'modal.btn_support': 'Support the Project',
        // Secondary Pages
        'app.back_home': 'Back to Home',
        'app.back_blog': '← Back to Blog',
        'community.title': 'Community',
        'community.coming_soon': 'Coming Soon',
        'community.text': 'We are preparing a platform for communication, forums, and server lists. Stay tuned!',
        'community.badge.dev': 'In Development',
        'community.hero.sub': 'We are preparing a unified platform for player communication, forums, server lists, and a guild system. Stay tuned for updates on our blog and Discord.',
        'community.btn.discord': 'Join Discord',

        // Media Page specific
        'media.title': 'Media',
        'media.hero.title': 'Media Gallery',
        'media.dev_title': 'Under Development',
        'media.text': 'This section is under active development. Screenshots, videos, and wallpapers coming soon.',
        'media.badge.soon': 'Coming Soon',
        'media.hero.sub': 'We are curating the best screenshots, concept art, and video content from the community and developers. A full gallery will appear here very soon.',
        'media.btn.submit': 'Submit Content',

        'blog.header.title': 'Development Blog',
        'blog.header.sub': 'Updates, patch notes, and news from the team.',
        'blog.sidebar.cat': 'Categories',
        'blog.cat.announcements': 'Announcements',
        'blog.cat.patchnotes': 'Patch Notes',
        'blog.cat.community': 'Community',
        'blog.cat.dev': 'Development',
        'blog.sidebar.archive': 'Archive',
        'date.jan26': 'January 2026',
        'date.dec25': 'December 2025',
        'date.nov25': 'November 2025',
        'date.feb17': 'February 17, 2026',
        'date.feb11': 'February 11, 2026',
        'date.jan28': 'January 28, 2026',
        'date.jan24': 'January 24, 2026',
        'date.jan17': 'January 17, 2026',
        'date.jan15': 'January 15, 2026',
        'date.jan13': 'January 13, 2026',
        'news.read_more_long': 'Read More',
        // Tags
        'tag.hotfix': 'Hotfix',
        'tag.dev': 'Development',
        'tag.update': 'Update',
        'tag.event': 'Event',
        // Sidebar Pro
        'sidebar.pro.title': 'HLauncher Pro',
        'sidebar.pro.text': 'Support development and unlock unique features.',
        'sidebar.pro.btn': 'Learn More',

        // Blog Excerpts
        'news.1.blog_excerpt': 'We addressed several stability issues reported by the community regarding shader integration and improved server performance.',
        'news.2.blog_excerpt': 'Cosmetics, customization, WorldGen V2, farming changes, and improved stability. Learn about the details of Update 2!',
        'news.3.blog_excerpt': 'Welcome to Update 1! Dinosaurs in the underground jungles, new sounds, and inventory balance.',
        'news.4.blog_excerpt': 'The moment has arrived, Hytale enters Early Access today! Find out what awaits you in the first version of the game.',
        'news.4.title': 'Hytale is Finally Here!',

        // Categories / General
        'cat.perf': 'Performance',
        'cat.stab': 'Stability',
        'cat.game': 'Gameplay',
        'cat.conn': 'Connectivity',
        'cat.launch': 'Launcher',
        'cat.serv': 'Services',
        'cat.world': 'World & Environment',
        'cat.npc': 'NPCs & Creatures',
        'cat.craft': 'Crafting, Items & Farming',
        'cat.audio': 'Audio & Visuals',
        'cat.ui': 'UI & Performance',
        'cat.custom': 'Customization',
        'cat.combat': 'Combat & Balance',
        'cat.bugs': 'Bug Fixes',

        // Features Section
        'features.title': 'Why HLauncher?',
        'features.speed.title': 'Max Speed',
        'features.speed.desc': 'Optimized engine ensures instant launch and smooth performance even on low-end PCs. Forget about lags and long loading times.',
        'features.security.title': 'Security',
        'features.security.desc': 'Built-in account protection and file verification.',
        'features.mods.title': 'Mods',
        'features.mods.desc': 'Convenient one-click mod manager.',
        'features.premium.title': 'Premium Features',
        'features.premium.desc': 'Early access to updates, HD skins, capes, and unique cosmetic items for your character.',

        // Post 1
        'p1.title': 'Hotfixes: January 2026',
        'p1.intro': 'This hotfix addresses the most critical issues reported since launch. Additional fixes for less urgent issues are in the works and will be included in future patches. Stay tuned!',
        'p1.ul1': '<li>Fixed recurring shadow rendering issues.</li><li>Reduced micro-stuttering and input lag on NVIDIA GPUs.</li>',
        'p1.ul2': '<li>Fixed several crashes, including those related to weather, armoring up, and server disconnects.</li><li>Improved login reliability and server uptime.</li>',
        'p1.ul3': '<li>Fixed compass pointing in the wrong direction.</li><li>Improved block placement consistency in Creative Mode.</li><li>Refined teleporter logic to prevent infinite looping.</li><li>Fixed crossbow misfires and other interaction bugs.</li>',
        'p1.ul4': '<li>General server stability and networking improvements.</li><li>Game now gracefully switches to offline mode on auth failure instead of hanging.</li><li>Fixed "invalid token" errors caused by system time desync.</li>',
        'p1.ul5': '<li>Improved client performance by optimizing background task scheduling.</li><li>Fixed an issue where dropped items would get stuck inside blocks.</li><li>Fixed a rare server crash scenario.</li>',
        'p1.ul6': '<li>Added a prompt after server load if authentication is required.</li><li>Client now switches to offline mode when session becomes invalid.</li>',
        'p1.ul7': '<li>Fixed crash when selecting specific hairstyles after eyebrows in character creator.</li><li>Fixed crash when taking screenshots for users with non-English folder names.</li><li>Fixed launch issues on Norwegian system locales.</li><li>Fixed crash when using buckets. Note: this broke some crafting stations; please break and replace them.</li><li>Prevented binding Left Mouse Button to certain actions.</li><li>General stability improvements.</li>',
        'p1.ul8': '<li>Added specific warning if system time is incorrect, resolving some auth issues.</li><li>Fixed an authentication loop bug occurring periodically.</li>',
        'p1.ul9': '<li>Fixed cosmetic vulnerability allowing players to spoof nicknames (visual only).</li><li>Improved game patch caching.</li><li>Enhanced email delivery service for high volume.</li>',

        // Post 2
        'p2.custom_intro': 'Added new avatar customization options for everyone:',
        'p2.ul1': '<li>Bandit Mask + Side Knot (Variant)</li><li>Blindfold + Thick (Variant)</li><li>Bandage wrap + Thick, Left Eye, Right Eye (Variants)</li><li>Vampire Mouth, Cute Mouth, Orc Mouth</li><li>Added white color option for cotton cosmetic items</li>',
        'p2.visual_intro': 'Updated visual effects for the following hairstyles:',
        'p2.ul2': '<li>Single Side Pony, Stick Bun, Simple Bob, Combat Buns, Smart Elf, Windswept</li>',
        'p2.armor_toggle': 'Added new armor slot visibility toggles next to equipped armor, available directly in the character panel. Server owners can disable this feature.',
        'p2.ul3': '<li>Added a new item allowing the summoning of skeleton minions from bone piles.</li><li>Adamantite now requires a Thorium or Cobalt pickaxe to mine.</li><li>Mining progression changed: low-tier pickaxes deal significantly less damage to high-tier blocks.</li><li>Polar Bears have been buffed.</li><li>Added more decorative lighting recipes to the furniture workbench.</li>',
        'p2.mobs_intro': 'Mob changes:',
        'p2.ul4': '<li>Bison, Boar, Cow, Horse, and Warthog now drop Medium Leather instead of Light.</li><li>Magma Toad: tongue damage reduced, added new "Headbutt" ability.</li>',
        'p2.world_intro': 'WorldGen V2 prepared for public documentation.',
        'p2.ul5': '<li>Added Default_Flat and Default_Void templates.</li><li>Significant refactoring of ore placement in all zones (requires exploring new chunks).</li><li>Devastated Lands now have more underground ores.</li>',
        'p2.ul6': '<li>Eternal crops no longer break from accidental weapon damage.</li><li>Increased farmland lifetime (1.2 - 1.5 days).</li><li>Torches can now be held in the offhand while using hoes and seeds.</li><li>Breaking fully grown Eternal crops now drops seeds back.</li><li>Copper is now Tier 2, Iron is Tier 4, Thorium added to Tier 6 for hoes.</li>',
        'p2.ul7': '<li>Improved tooltips in the block editor.</li><li>Improved visibility of the active hotbar slot (added diamond indicator).</li><li>Memory categories are now sorted alphabetically.</li><li>Added FPS counter in settings menu (General > Interface).</li><li>Player names always shown on map. Removed "Player: " prefix.</li>',
        'p2.inv_intro': 'Inventory updates:',
        'p2.ul8': '<li>Improved double-click handling.</li><li>Shift + Click on armor now equips it immediately.</li><li>Added QERT hotkeys for quick actions (sort, take all, etc.).</li>',
        'p2.ul9': '<li>Added all missing Rex sounds.</li><li>Updated bone dragging sound.</li><li>Updated food particle tints.</li>',
        'p2.ul10': '<li>Implemented server auto-update system with new commands and configuration.</li><li>Fixed middle-click "pick block" with full inventory in Creative.</li><li>Fixed parkour detection issues (Mantling).</li><li>Cleared keybindings now persist between sessions.</li><li>Minecarts are now correctly consumed and placed.</li><li>Fixed bed respawn in unloaded chunks.</li><li>Fixed flickering player markers on the map.</li>',

        // Post 3
        'p3.intro': 'Welcome to the first Hytale update! Today we are releasing new content alongside a range of fixes and quality of life improvements.',
        'p3.ul1': '<li>Added dinosaurs and other NPCs to the Underground Jungle (using temporary behavior for now).</li><li>Devastated Lands sewers now have proper atmospheric effects.</li><li>Areas under volcanoes now use volcanic effects.</li><li>Fixed entity and texture placement in Feran villages.</li>',
        'p3.ul2': '<li>Added knockback resistance to NPCs that were missing it.</li><li>Fire NPCs are now immune to fire damage.</li><li>Improved combat behavior of the Crystal Earth Golem.</li><li>Skeletons no longer take drowning damage.</li><li>Kweebecs are immune to cactus and bramble damage.</li><li>Cautious predators (e.g. Fox) will not attack players first.</li>',
        'p3.ul3': '<li>Backpack is now easier to obtain: Basic requires Tier 1 Workbench (previously Tier 2) and 8 Medium Leather (previously 16).</li><li>Workbenches can now pull resources from chests within a 14 block radius (previously 7).</li><li>All raw fruits and vegetables give only Regeneration I. Cooking provides more bonuses.</li><li>Dropped items no longer get stuck in blocks.</li><li>Corn now gives 1 Life Essence instead of 4.</li><li>Logs now display wood type in tooltip (e.g. "Hardwood").</li>',
        'p3.ul4': '<li>New sounds for hitting stone and ore.</li><li>Horses now have correct running sounds.</li><li>Torch burning sound replaced with softer ambient.</li><li>Added particles when eating fruit.</li><li>Updated visual effects for health potions (glint, glow).</li>',
        'p3.ul5': '<li>Sleeping is now possible from 19:30.</li><li>Added Memory System info panel.</li><li>Screenshot and UI toggle can no longer be bound to mouse buttons.</li><li>Game warns when launching pre-release versions.</li><li>Field of View (FOV) while sprinting is limited to 160°.</li>',
        'p3.ul6': '<li>New eye types: Cat, Demon, Goat, Reptile.</li><li>New mouths and hair color (Lavender).</li><li>Featherbound Hood now displays correctly.</li>',
        'p3.ul7': '<li>Weapon attacks now check Line of Sight (LoS).</li><li>Burning effect deals less damage (except lava).</li><li>Cactuses and brambles deal "Environment" damage type.</li>',
        'p3.ul8': '<li>Fixed stamina consumption when switching slots during charged attack.</li><li>Fixed argument parsing in /replace command.</li><li>Fixed crash when taking screenshots with non-English paths.</li><li>Fixed crash when updating player model.</li><li>Improved session token error handling.</li>',

        // Post 4
        'p4.intro1': '<strong>Hytale is finally here!</strong><br>The moment has arrived, today Hytale enters Early Access!',
        'p4.intro2': 'When we acquired Hytale last November and became an independent studio, we promised to launch the game without delays, and we kept that word. The game is now in Early Access in its true form: unpolished and incomplete, but beneath these rough edges lies the foundation for something extraordinary. For the first time, Hytale is in the hands of the community to help us turn it into the dream game you all deserve.',
        'p4.intro3': 'Before you start, please remember:',
        'p4.ul1': '<li><strong>Early Access</strong> — many features are still missing, and bugs are expected.</li><li>It has been only two months since we reclaimed Hytale — that’s all the time we had to prepare the game and rebuild the team from scratch.</li><li>Demand exceeded our expectations, meaning launch week will be challenging, but we will get everyone in.</li>',
        'p4.blockquote': 'No copy of Hytale, but want to join Early Access?<br>Buy Starter Edition for just $19.99 USD.',
        'p4.intro4': 'If you are not comfortable playing an incomplete Early Access version, that is okay. We will be here when you are ready!',
        'p4.h_how': 'How did we get here?',
        'p4.text_how': 'Over the last few months, Hytale went from development stagnation to cancellation, then to rebirth, and now... Early Access release! This happened because the community remained strong and worked together, creating the #savehytale movement, which ultimately convinced the original founders to return.',
        'p4.h_what': 'What is in Early Access today?',
        'p4.h_avail': 'Available:',
        'p4.ul_avail': '<li><strong>Exploration Mode:</strong> Infinite procedurally generated world. Explore, build, farm, and play with friends.</li><li><strong>Creative Mode:</strong> In-game tools and separate utilities for content creation.</li><li><strong>Mod Support:</strong> Hytale has extensive modding capabilities from day one.</li><li><strong>Multiplayer:</strong> For all modes.</li>',
        'p4.h_missing': 'Currently MISSING (but coming later):',
        'p4.ul_missing': '<li><strong>Adventure Mode:</strong> Story, deep progression, dungeons with bosses.</li><li><strong>Official Minigames:</strong> Social games and competitive modes.</li><li><strong>World Gen V2:</strong> Full, restored world of Orbis (partially available via portals for now).</li><li><strong>Social Features:</strong> Friend lists and guilds.</li>',
        'p4.h_features': 'Key Features',
        'p4.h_gateway': 'The Ancient Gateway',
        'p4.text_gateway': 'A device allowing travel to unstable timeline worlds called Orbis Fragments. This allows a glimpse into World Gen 2 generation capabilities.',
        'p4.h_memories': 'Memory System',
        'p4.text_memories': 'Rewards you for exploring and interacting with creatures. Memories need to be returned to the Heart of Orbis to unlock rewards.',
        'p4.h_combat': 'Combat and Farming',
        'p4.text_combat': 'Fun mobile combat with diverse weapons and a farming system with many crops.',
        'p4.h_thanks': 'Thank You',
        'p4.text_thanks': 'All of us at Hypixel Studios are excited to finally release Hytale to the community that has endured so many ups and downs. Your constant excitement made this possible. Words are not enough to express our gratitude.',
        'p4.text_final': 'A big thank you from the whole team!',

        // Post 5
        'news.5.title': 'NPC Technical Rundown',
        'news.5.excerpt': 'A detailed look at the NPC framework, roles, combat evaluator, and future plans.',
        'news.5.blog_excerpt': 'Deep dive into NPC tech: roles, combat AI, current issues, and improvement plans.',
        'p5.intro1': 'Hello everyone! This post is going to briefly cover some topics relating to Hytale\'s NPC framework, its current state, how it looks, and where we want to take it.',
        'p5.intro_tech': 'Some of the content might be a bit more technical, so feel free to skip through or skim the parts that don\'t interest you. There\'s also a lot to cover when it comes to NPC-related systems, so don\'t expect this one post to be exhaustive!',

        'p5.h_where': 'Where we are',
        'p5.text_where': 'As it stands, the NPC framework supports a wide variety of behaviours across multiple systems, all of which are configurable using data-driven assets. You don\'t need to know any programming languages to be able to set them up - even our most complex NPCs are almost entirely data-driven.',
        'p5.text_systems': 'We achieve this through a number of different behaviour-related systems, but the two we\'ll cover in this post are \'Roles\' (the heart of our NPCs) and the \'Combat Action Evaluator\'.',

        'p5.h_docs': 'Documentation and Tutorial',
        'p5.text_docs': 'If you want to learn more about NPCs, our friends at hytalemodding have a lot of great documentation already and we provided the generated NPC one as well as a written tutorial.',
        'p5.text_video': 'Together with this tutorial we made a 6 part video series, where we cover some parts of it in extra detail; for the best experience use both:',
        'p5.link_tut1': 'NPC Tutorial Part 1',
        'p5.link_tut2': 'NPC Tutorial Part 2',
        'p5.link_tut3': 'NPC Tutorial Part 3',
        'p5.link_tut4': 'NPC Tutorial Part 4',
        'p5.link_tut5': 'NPC Tutorial Part 5',
        'p5.link_tut6': 'NPC Tutorial Part 6',

        'p5.h_roles': 'Roles',
        'p5.text_roles1': 'Every NPC has a role. This is the expression of their general behaviour and how they\'ll react to different stimuli in the world. Changing an NPC\'s entire behaviour set is as simple as changing its role, and we provide a number of templates with customizable values that can be applied to make creating new NPCs quick and efficient.',
        'p5.text_roles2': 'In addition to the behaviour itself, the Role also dictates aspects such as how an NPC will move, what items it carries, what it looks like, and so on.',
        'p5.text_roles3': 'On the technical side, this behaviour is represented by a concept we refer to as \'instruction lists\'. This isn\'t too far removed from decision trees or behaviour trees, but with some of the semantics simplified. Each instruction is made up of a \'sensor\' - an element that queries the state of the game to decide if this instruction can be executed - as well as the actions or motions the NPC should take if this instruction is selected.',
        'p5.text_roles4': 'Each instruction is evaluated in order and - if matched - executed. Unless specific flags are included in the instruction, we won\'t evaluate any further instructions in the list. This ensures that the flow of logic within the NPC is easy to follow.',
        'p5.text_roles5': 'While all the individual element types (sensors, actions, motions, etc) are written in Java, the instruction lists are constructed entirely in JSON. At this stage we have more than 150 different element types.',
        'p5.text_sheep_example': 'Here is an example of changing the Sheep role to go from a Livestock behavior enabled by Template_Animal_Neutral to being aggressive with the help of Template_Predator.',
        'p5.text_sheep_aggressive': 'And it goes from being fond of you to attacking.',
        'p5.text_sheep_weapon': 'With some basic templates we created, you can also give it a random Weapon and you are ready for Die Hard Sheep mod',

        'p5.h_combat_eval': 'The Combat Action Evaluator',
        'p5.text_combat_eval1': 'Though instruction lists already give designers a great deal of flexibility to configure their NPCs and implement combat behaviours, crafting a character that does more than few basic attacks and needs to make some sort of decision about when to use certain attacks quickly becomes cumbersome.',
        'p5.text_combat_eval2': 'The combat action evaluator exists to address these needs, by offering a companion framework to an NPCs central behaviour that can make smart moment-to-moment decisions about its state, the state of the world around it, and its enemies or allies.',
        'p5.text_combat_eval3': 'Each possible attack (or other combat action) is assigned a set of conditions that designate the best time to use it - when HP is low; when the enemy is close; when a player is trying to sneak around the back. These conditions are then evaluated and each action is weighed against the others.',
        'p5.text_combat_eval4': 'For example, the Skeleton Praetorian can decide between using different abilities with some degree of intelligence: blocking, summoning at low health, and charging, alongside basic attacks.',
        'p5.text_combat_snippet': 'Below is a snippet that shows part of the configuration for the summon ability condition:',
        'p5.text_combat_video': 'And here is a video example of those decisions:',

        'p5.h_reality': 'The reality check',
        'p5.text_reality1': 'This all sounds pretty far along, right? Maybe you could even believe it was shippable? Well…no. There are still very many rough edges, missing features, and areas in need of vast improvement.',
        'p5.text_reality2': 'With great power comes…the need for great tooling. We\'re very far off the mark here. There are plans for visual editing and debugging, but right now most NPC configuration is done directly in JSON files using text editors. It\'s workable, but painful.',
        'p5.text_reality3': 'We mentioned the learning curve associated with the combat action evaluator, but that applies pretty much everywhere when it comes to working with NPCs as well. There are plenty of major missing features as well: NPCs don\'t position themselves very well in combat; they don\'t use proper avoidance or flocking; swimming NPCs can\'t leave the water and vice versa.',
        'p5.text_perform': 'Naturally, the potential for performance issues abounds. We can support a relatively large number of NPCs but there\'s much work to be done in making them more performant, particularly when it comes to pathfinding.',
        'p5.text_debt': 'And then there\'s all the technical debt that needs to be solved, from NPCs not being able to deliberately break blocks outside of projectile-based explosions due to certain non-NPC system constraints that need to be revised, to NPC physics needing a complete rework to unify it properly with player systems.',

        'p5.h_bugs': 'Bugs, bugs everywhere',
        'p5.text_bugs1': 'Many community members have pointed out the plethora of bugs that cropped up in released gameplay footage. With our current development pace, much of that footage is already outdated and the most critical of those bugs have already been fixed! However, I do specifically want to take a moment to talk a bit more about pathfinding.',
        'p5.text_pathfind': 'Pathfinding is a large and complex topic. When you add a procedural fully-modifiable block-based world to the mix, this becomes even more complex. This means our pathfinding is currently slow. We can\'t pre-populate the world with \'jump points\' because the world could change at any time.',

        'p5.h_next': 'So what\'s next?',
        'p5.text_next1': 'Tooling is high up on our priority list. If we want to support modders properly, we need to give them the tools they need to make creating NPCs fun!',
        'p5.text_next2': 'We also need to address the issues with pathfinding and movement while dealing with technical debt to ensure that we\'re not creating performance bottlenecks.',
        'p5.text_next3': 'Adding more templates will also help to liven up the world a bit more. All of this leads towards the potential for creating proper bosses - encounters that will push all our PvE systems to their absolute limits.',

        'p5.h_debug': 'A headstart: debug commands',
        'p5.text_debug1': 'While we don\'t have a visual editor or deep debugging just yet, we\'ve added a number of different visualisations to make it easier to understand how your NPCs will function.',
        'p5.text_debug2': 'Each of these visualisations can be enabled by toggling certain NPC debug flags on individual NPCs:',
        'p5.code_aim': '/npc debug set VisAiming',
        'p5.text_aim': 'You can use it to determine what the NPCs actually shoot at.',
        'p5.code_targets': '/npc debug set VisMarkedTargets',
        'p5.text_targets': 'Visualises all current marked targets locked onto by the NPC.',
        'p5.code_sensors': '/npc debug set VisSensorRanges',
        'p5.text_sensors': 'Visualises all currently checked Mob sensor ranges as rings and view sectors.',
        'p5.text_bear_desc': 'The first screenshot shows the Bear sleeping and only having one sensor active. On the second screenshot the Bear has hearing, vision, and absolute detection range. Even though the Sheep are detected by the vision radius (they have target marks) they are outside of the view cone. The sheep family is still safe!',
        'p5.code_leash': '/npc debug set VisLeashPosition',
        'p5.text_leash': 'Visualises the NPC\'s current leash position.',
        'p5.code_flock': '/npc debug set VisFlock',
        'p5.text_flock': 'Visualises the flock (NPC group) associated with this NPC.',

        // Post 6
        'news.6.title': 'Hytale Patch Notes - Update 3',
        'news.6.excerpt': 'Animal taming, map markers, localization, and a host of fixes and improvements.',
        'news.6.blog_excerpt': 'Update 3 brings animal taming, map markers, localization, and many bug fixes.',
        'p6.intro': 'Hytale\'s 3rd update is here, four weeks into Early Access! Our release rhythm going forward: weekly pre-release patches for testing, bundled into a stable update every 2 to 6 weeks.',
        'p6.intro2': 'Beyond regular updates, we\'re building chapters, larger content drops that unfold the Cursebreaker arc in Exploration Mode.',

        'p6.h_features': 'Headline Features',
        'p6.ul_features': '<li><b>Animal Taming:</b> Tame friendly animals with their favorite food. Pet, feed, milk, shear, or mount them.</li><li><b>Map Markers:</b> Create custom markers with icons and colors. Share in multiplayer.</li><li><b>Localization:</b> Added Brazilian-Portuguese and Russian. Huge thanks to community translators!</li><li><b>Avatar Presets:</b> Save and swap up to 5 customizations.</li><li><b>Sickles:</b> Harvest multiple crops at once.</li><li><b>Climbing Overhaul:</b> Side-stepping, dropping down, and rotating on ropes.</li><li><b>Fire Spread & Flamethrower:</b> New fire fluid ticker and Goblin Flamethrower (Creative only).</li><li><b>Grass Spreading:</b> Random block ticking added.</li><li><b>Anchor UI System:</b> Allows plugins to add UI elements to client screens.</li>',

        'p6.h_avatar': 'Avatar & Cosmetics',
        'p6.ul_avatar': '<li><b>New Items:</b> Tweed Hat, Mage Shirt, various shoes, Construction Hard Hat, Spiked Bracelets, new Skirts.</li><li><b>Hair & Face:</b> 6 new Haircuts, 4 Facial Hair styles, new Eye Shapes and Makeup.</li><li>Overpants renamed to Legwear.</li>',

        'p6.h_combat': 'Combat & Items',
        'p6.ul_combat': '<li>Adjusted damage and upgrade values.</li><li>Fixed guarding stamina costs.</li><li>Spears stack to 5 and are throwable.</li><li>Improved ranged ballistics and accuracy.</li><li>Bows use ammo from backpack.</li><li><b>Necromancy:</b> Summons don\'t take friendly fire, respond to attacks on player, are faster/more aggressive. Added ranged skeleton.</li><li>Refactored Rhino Toad attacks and NPC targeting.</li>',

        'p6.h_gameplay': 'Gameplay',
        'p6.ul_gameplay': '<li><b>Map:</b> Updated icons, player names always visible, vertical distance indicators on compass.</li><li><b>Inventory:</b> "Take All" button, Shift-drag transfer, improved utility wheel.</li><li><b>Crafting:</b> Reduced tiers for Chicken Coop and Farmers Bench. Instant craft for crude tools. Dough uses refillable Tankards.</li><li><b>World:</b> Doors don\'t close if blocked. Teleporters require clearance. Minecarts don\'t move when stuck.</li>',

        'p6.h_blocks': 'Blocks & World',
        'p6.ul_blocks': '<li>Re-added Incandescent Volcanic Rock.</li><li>New crack textures (Thorium, Basalt, Magma, Mud).</li><li>Lime block variants (Gravel, Rock, Rubble).</li><li>Updated Cobalt texture.</li>',

        'p6.h_content': 'Content & Encounters',
        'p6.ul_content': '<li>Complex spawns in Taiga.</li><li>New Outlander village environment.</li><li>Refactored encounters.</li><li>Green Rhino Toad variant.</li><li>Tier 2 Furnace model and animations.</li>',

        'p6.h_audio': 'Audio',
        'p6.ul_audio': '<li>Updated sword sounds.</li><li>Separated Stereo Headphone and HRTF modes.</li><li>Increased furnace sound limit.</li>',

        'p6.h_ui': 'UI & Quality of Life',
        'p6.ul_ui': '<li>Sleep notifications.</li><li>Window Size option.</li><li>Improved keybind tooltips.</li><li>Teleporter warps sorted.</li><li>Font Fallback Support (including Noto Sans for Cyrillic).</li><li>Improved Localization support in tooltips.</li>',

        'p6.h_modding': 'Modding & Tools',
        'p6.ul_modding': '<li>Mod enable/disable support.</li><li>Plugin version checks.</li><li>New asset packs enabled by default.</li><li>/layer command in Creative.</li><li>Undo/Redo for Paste tool.</li><li>Debug visualization: 3D audio, NPC sensors, Leash, Flock.</li>',

        'p6.h_perf': 'Performance & Bug Fixes',
        'p6.ul_perf': '<li><b>Security:</b> Fixed directory traversal vulnerabilities.</li><li><b>Performance:</b> Improved world gen, optimized client assets.</li><li><b>Crashes:</b> Fixed crashes in creative tools, skin saving, and Linux folder opening.</li><li><b>World:</b> Fixed filler blocks, mis-predictions, floating trees, infinite fire spread.</li><li><b>Gameplay:</b> Fixed crop hitboxes, pickup items, fishing in lava.</li><li><b>Audio:</b> Fixed water emitter panning and HRTF issues.</li>',
    }
};

let currentLang = 'ru';

function detectLanguage() {
    const saved = localStorage.getItem('hlauncher_lang');
    if (saved) return saved;
    const userLang = navigator.language || navigator.userLanguage;
    return userLang.startsWith('en') ? 'en' : 'ru';
}

function setLanguage(lang) {
    if (!translations[lang]) return;
    currentLang = lang;
    localStorage.setItem('hlauncher_lang', lang);
    document.documentElement.lang = lang;

    // Update content
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.innerHTML = translations[lang][key];
            }
        }
    });

    // Update toggles state
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
}

// Init i18n
document.addEventListener('DOMContentLoaded', () => {
    const lang = detectLanguage();
    setLanguage(lang);

    // Helper to bind dynamically (delegation)
    document.body.addEventListener('click', (e) => {
        if (e.target.closest('.lang-btn')) {
            const btn = e.target.closest('.lang-btn');
            e.preventDefault();
            setLanguage(btn.dataset.lang);
        }
    });
});